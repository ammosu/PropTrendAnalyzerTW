<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://code.jquery.com https://cdn.jsdelivr.net https://stackpath.bootstrapcdn.com;
        style-src 'self' 'unsafe-inline' https://stackpath.bootstrapcdn.com https://cdnjs.cloudflare.com https://fonts.googleapis.com;
        img-src 'self' data: blob: https:;
        font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
        connect-src 'self' https://stackpath.bootstrapcdn.com https://cdn.jsdelivr.net;
        frame-src 'none';
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        worker-src 'self' blob:;
        upgrade-insecure-requests;">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta name="description" content="台灣房地產市場新聞趨勢分析工具，提供房市新聞摘要與市場預期走向分析">
    <title>房市新聞摘要與趨勢分析</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 專業儀表板字型配對: Poppins (標題) + Open Sans (內文) + Fira Code (數據) + Noto Sans TC (中文) -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&family=Fira+Code:wght@400;500;600&family=Noto+Sans+TC:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <!-- 跳過導航連結 -->
    <a href="#main-content" class="skip-to-main-content sr-only sr-only-focusable">跳到主要內容</a>

    <div class="container mt-4">
        <header role="banner">
            <!-- 深色模式切換按鈕 -->
            <div class="dark-mode-toggle-container">
                <button id="dark-mode-toggle" class="btn btn-sm btn-outline-secondary" aria-label="切換深色模式" title="切換深色模式">
                    <i class="fas fa-moon" aria-hidden="true"></i>
                    <span class="dark-mode-text">深色模式</span>
                </button>
            </div>
            <h1 id="page-title" class="my-4 text-center animate__animated animate__fadeIn">房市新聞摘要與趨勢分析</h1>
            <p class="text-center text-muted mb-4 animate__animated animate__fadeIn animate__delay-1s">分析台灣房地產市場新聞，掌握最新趨勢與洞察</p>
        </header>
        
        <!-- 測試SVG圖片 -->
        <div class="text-center mb-3" id="svg-test" style="display:none;">
            <img src="data:image/svg+xml;charset=UTF-8,%3csvg width='200' height='100' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='%233498db'/%3e%3ctext x='50%25' y='50%25' font-family='Arial' font-size='14' fill='white' text-anchor='middle' dy='.3em'%3e測試圖片%3c/text%3e%3c/svg%3e" alt="測試SVG圖片" style="max-width: 200px;">
            <p><small>SVG 圖片測試</small></p>
        </div>
        
        <!-- CSV上傳區域 -->
        <section id="csv-upload-section" class="mb-4 animate__animated animate__fadeIn animate__delay-1s" aria-labelledby="upload-heading">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 id="upload-heading" class="mb-0"><i class="fas fa-file-upload me-2" aria-hidden="true"></i> 上傳CSV資料</h5>
                </div>
                <div class="card-body">
                    <form id="csv-upload-form" aria-label="CSV檔案上傳表單">
                        <div class="form-group">
                            <label for="csv-file" class="font-weight-bold">選擇CSV檔案：</label>
                            <div class="custom-file mb-3">
                                <input type="file" class="custom-file-input" id="csv-file" accept=".csv" aria-describedby="csv-file-help" aria-required="true">
                                <label class="custom-file-label" for="csv-file">選擇檔案...</label>
                            </div>
                            <small id="csv-file-help" class="form-text text-muted"><i class="fas fa-info-circle" aria-hidden="true"></i> 請上傳包含新聞資料的CSV檔案。支援標題、摘要、關鍵詞、日期等欄位。檔案大小限制為1GB。</small>
                        </div>
                        <!-- 上傳進度條 -->
                        <div id="upload-progress-container" class="mb-3" style="display: none;">
                            <div class="progress" style="height: 25px;">
                                <div id="upload-progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                                    <span id="upload-progress-text">0%</span>
                                </div>
                            </div>
                            <small id="upload-progress-message" class="text-muted"></small>
                        </div>
                        <button type="submit" class="btn btn-primary" aria-label="上傳並處理CSV檔案"><i class="fas fa-cloud-upload-alt me-1" aria-hidden="true"></i> 上傳並處理</button>
                    </form>
                    <div id="upload-status" class="mt-3" role="status" aria-live="polite" aria-atomic="true"></div>
                </div>
            </div>
        </section>

        <!-- 資料統計摘要區塊 -->
        <section id="data-summary-section" class="mb-4 animate__animated animate__fadeIn data-dependent-section" style="display: none;">
            <div class="row">
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="stat-card stat-card-blue">
                        <div class="stat-icon">
                            <i class="fas fa-newspaper"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-articles-count" data-target="0">0</div>
                            <div class="stat-label">篇文章</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="stat-card stat-card-green">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-week"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value small-text" id="date-range-display">-</div>
                            <div class="stat-label">資料範圍</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="stat-card stat-card-orange">
                        <div class="stat-icon">
                            <i class="fas fa-key"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="keywords-count" data-target="0">0</div>
                            <div class="stat-label">個關鍵詞</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-3">
                    <div class="stat-card stat-card-purple">
                        <div class="stat-icon">
                            <i class="fas fa-rss"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="publishers-count" data-target="0">0</div>
                            <div class="stat-label">家媒體</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="filter-options" class="mb-4 animate__animated animate__fadeIn animate__delay-2s data-dependent-section" role="search" aria-labelledby="filter-heading" style="display: none;">
            <h5 id="filter-heading" class="mb-3"><i class="fas fa-filter" aria-hidden="true"></i> 篩選選項</h5>

            <!-- 篩選結果數量和已選標籤 -->
            <div class="mb-3">
                <div class="d-flex justify-content-between align-items-center flex-wrap">
                    <div id="filter-result-count" class="badge badge-primary p-2" style="font-size: 1rem;">
                        <i class="fas fa-list"></i> 共 <span id="filtered-count">0</span> 篇文章
                    </div>
                    <div class="d-flex align-items-center gap-2">
                        <!-- 匯出下拉選單 -->
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="匯出資料">
                                <i class="fas fa-download"></i> 匯出
                            </button>
                            <div class="dropdown-menu dropdown-menu-right">
                                <h6 class="dropdown-header"><i class="fas fa-file-alt"></i> 資料格式</h6>
                                <button id="export-csv-btn" class="dropdown-item" type="button">
                                    <i class="fas fa-file-csv text-success"></i> CSV 格式
                                </button>
                                <button id="export-json-btn" class="dropdown-item" type="button">
                                    <i class="fas fa-file-code text-info"></i> JSON 格式
                                </button>
                                <div class="dropdown-divider"></div>
                                <h6 class="dropdown-header"><i class="fas fa-chart-bar"></i> 圖表</h6>
                                <button id="export-chart-keyword-btn" class="dropdown-item" type="button">
                                    <i class="fas fa-chart-line text-primary"></i> 關鍵詞趨勢圖
                                </button>
                                <button id="export-chart-trend-btn" class="dropdown-item" type="button">
                                    <i class="fas fa-chart-pie text-warning"></i> 市場趨勢圖
                                </button>
                                <button id="export-chart-cloud-btn" class="dropdown-item" type="button">
                                    <i class="fas fa-cloud text-secondary"></i> 文字雲圖
                                </button>
                                <div class="dropdown-divider"></div>
                                <button id="export-full-report-btn" class="dropdown-item font-weight-bold" type="button">
                                    <i class="fas fa-file-download text-danger"></i> 完整報表
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 已選篩選條件標籤 -->
                <div id="active-filters-tags" class="mt-2"></div>
            </div>

            <div class="form-row">
                <div class="col-md-3">
                    <label for="start-date"><i class="far fa-calendar-alt" aria-hidden="true"></i> 起始日期：</label>
                    <input type="date" id="start-date" class="form-control" aria-label="選擇篩選起始日期">
                </div>
                <div class="col-md-3">
                    <label for="end-date"><i class="far fa-calendar-alt" aria-hidden="true"></i> 結束日期：</label>
                    <input type="date" id="end-date" class="form-control" aria-label="選擇篩選結束日期">
                </div>
                <div class="col-md-6">
                    <label class="d-block"><i class="fas fa-bolt" aria-hidden="true"></i> 快速選擇：</label>
                    <div class="quick-date-filters" role="group" aria-label="快速日期篩選">
                        <button type="button" class="btn btn-sm btn-outline-secondary quick-date-btn" data-range="last1Month" title="最近1個月">
                            最近1個月
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-secondary quick-date-btn" data-range="last3Months" title="最近3個月">
                            最近3個月
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-secondary quick-date-btn" data-range="last6Months" title="最近6個月">
                            最近6個月
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-secondary quick-date-btn" data-range="last1Year" title="最近1年">
                            最近1年
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-secondary quick-date-btn" data-range="all" title="全部時間">
                            <i class="fas fa-infinity"></i> 全部
                        </button>
                    </div>
                </div>
            </div>

            <div class="form-row mt-3">
                <div class="col-md-3">
                    <label for="keyword-filter"><i class="fas fa-search" aria-hidden="true"></i> 關鍵字：</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="keyword-filter-icon"><i class="fas fa-search" aria-hidden="true"></i></span>
                        </div>
                        <input type="text" id="keyword-filter" class="form-control" placeholder="輸入關鍵字" aria-label="輸入關鍵字進行篩選" aria-describedby="keyword-filter-icon">
                    </div>
                </div>
                <div class="col-md-3">
                    <label for="sort-options"><i class="fas fa-sort" aria-hidden="true"></i> 排序依據：</label>
                    <select id="sort-options" class="form-control" aria-label="選擇文章排序方式">
                        <option value="date-desc">時間（最新到最舊）</option>
                        <option value="date-asc">時間（最舊到最新）</option>
                        <option value="title-asc">名稱（A到Z）</option>
                        <option value="title-desc">名稱（Z到A）</option>
                    </select>
                </div>
            </div>
            
            <!-- 折疊區域 -->
            <div class="mb-3 mt-3">
                <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#advanced-filters" aria-expanded="false" aria-controls="advanced-filters" aria-label="顯示或隱藏進階篩選選項">
                    <i class="fas fa-angle-down me-1" aria-hidden="true"></i> 進階篩選
                </button>
            </div>

            <div class="collapse" id="advanced-filters">
                <div class="form-row">
                    <div class="col-md-12">
                        <label id="media-filter-label"><i class="fas fa-newspaper" aria-hidden="true"></i> 新聞媒體：</label>
                        <div class="btn-group-toggle d-flex flex-wrap" data-toggle="buttons" role="group" aria-labelledby="media-filter-label">
                            <label class="btn btn-outline-primary active m-1">
                                <input type="checkbox" class="media-filter" value="中國時報" checked name="media-filter-chinatimes" id="media-filter-chinatimes" aria-label="篩選中國時報新聞">
                                <i class="fas fa-check-circle" aria-hidden="true"></i> 中國時報
                            </label>
                            <label class="btn btn-outline-primary active m-1">
                                <input type="checkbox" class="media-filter" value="聯合新聞網" checked name="media-filter-united-daily" id="media-filter-united-daily" aria-label="篩選聯合新聞網新聞">
                                <i class="fas fa-check-circle" aria-hidden="true"></i> 聯合新聞網
                            </label>
                            <label class="btn btn-outline-primary active m-1">
                                <input type="checkbox" class="media-filter" value="工商時報" checked name="media-filter-commercial-times" id="media-filter-commercial-times" aria-label="篩選工商時報新聞">
                                <i class="fas fa-check-circle" aria-hidden="true"></i> 工商時報
                            </label>
                            <label class="btn btn-outline-primary active m-1">
                                <input type="checkbox" class="media-filter" value="自由時報" checked name="media-filter-liberty-times" id="media-filter-liberty-times" aria-label="篩選自由時報新聞">
                                <i class="fas fa-check-circle" aria-hidden="true"></i> 自由時報
                            </label>
                            <label class="btn btn-outline-primary active m-1">
                                <input type="checkbox" class="media-filter" value="風傳媒" checked name="media-filter-storm" id="media-filter-storm" aria-label="篩選風傳媒新聞">
                                <i class="fas fa-check-circle" aria-hidden="true"></i> 風傳媒
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider data-dependent-section" style="display: none;"></div>

        <!-- 圖表切換按鈕 -->
        <section id="chart-toggle-section" class="text-center mb-4 animate__animated animate__fadeIn animate__delay-2s data-dependent-section" aria-labelledby="chart-heading" style="display: none;">
            <h4 id="chart-heading" class="mb-3"><i class="fas fa-chart-line" aria-hidden="true"></i> 資料分析檢視</h4>
            <div class="chart-toggle-btn-group" role="group" aria-label="圖表類型切換">
                <button id="showKeywordTrend" class="btn btn-outline-primary chart-toggle-btn active" aria-label="顯示關鍵詞趨勢分析圖表" aria-pressed="true">
                    <i class="fas fa-chart-bar" aria-hidden="true"></i>
                    <span class="btn-text">關鍵詞趨勢分析</span>
                </button>
                <button id="showExpectedTrend" class="btn btn-outline-primary chart-toggle-btn" aria-label="顯示每月預期市場趨勢分佈圖表" aria-pressed="false">
                    <i class="fas fa-chart-pie" aria-hidden="true"></i>
                    <span class="btn-text">每月預期市場趨勢分佈</span>
                </button>
                <button id="showKeywordCloud" class="btn btn-outline-primary chart-toggle-btn" aria-label="顯示關鍵詞文字雲視覺化" aria-pressed="false">
                    <i class="fas fa-font" aria-hidden="true"></i>
                    <span class="btn-text">關鍵詞文字雲</span>
                </button>
            </div>
        </section>


        <!-- 關鍵詞趨勢分析圖表容器 -->
        <section id="keywordTrendContainer" class="animate__animated animate__fadeIn data-dependent-section" role="region" aria-labelledby="keyword-trend-title" style="display: none;">
            <h2 id="keyword-trend-title"><i class="fas fa-chart-bar" aria-hidden="true"></i> 關鍵詞趨勢分析</h2>

            <!-- 檢視模式切換 -->
            <div class="text-center mb-3">
                <div class="btn-group trend-mode-toggle" role="group" aria-label="趨勢檢視模式切換">
                    <button type="button" id="single-month-mode" class="btn btn-outline-primary active" title="單月檢視">
                        <i class="fas fa-calendar-day"></i> 單月檢視
                    </button>
                    <button type="button" id="multi-month-mode" class="btn btn-outline-primary" title="多月比較">
                        <i class="fas fa-calendar-alt"></i> 多月比較
                    </button>
                    <button type="button" id="time-range-mode" class="btn btn-outline-primary" title="時間範圍分析">
                        <i class="fas fa-chart-line"></i> 時間範圍
                    </button>
                </div>
            </div>

            <!-- 單月選擇模式 -->
            <div id="single-month-controls" class="text-center mb-3">
                <label for="month-slider" class="form-label">選擇月份以查看趨勢變化：</label>
                <div class="d-flex align-items-center justify-content-center" role="group" aria-label="月份選擇控制項">
                    <button id="prev-month" class="btn btn-secondary" aria-label="上一個月"><i class="fas fa-chevron-left" aria-hidden="true"></i></button>
                    <input type="range" id="month-slider" class="mx-3" aria-label="選擇月份" aria-valuemin="0" aria-valuemax="12" aria-valuenow="0" aria-live="polite">
                    <button id="next-month" class="btn btn-secondary" aria-label="下一個月"><i class="fas fa-chevron-right" aria-hidden="true"></i></button>
                    <span id="selected-month" class="badge" role="status" aria-live="polite" aria-atomic="true"></span>
                </div>
            </div>

            <!-- 多月選擇模式 -->
            <div id="multi-month-controls" class="mb-3" style="display: none;">
                <label class="form-label text-center d-block">選擇要比較的月份（最多 5 個）：</label>
                <div id="month-checkboxes" class="month-checkbox-container"></div>
                <div class="text-center mt-2">
                    <button id="apply-multi-month" class="btn btn-primary btn-sm">
                        <i class="fas fa-chart-bar"></i> 套用比較
                    </button>
                    <button id="clear-month-selection" class="btn btn-secondary btn-sm">
                        <i class="fas fa-times"></i> 清除選擇
                    </button>
                </div>
            </div>

            <!-- 時間範圍選擇模式 -->
            <div id="time-range-controls" class="mb-3" style="display: none;">
                <div class="row justify-content-center">
                    <div class="col-md-4">
                        <label for="trend-start-month" class="form-label">起始月份：</label>
                        <select id="trend-start-month" class="form-control">
                            <option value="">請選擇...</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="trend-end-month" class="form-label">結束月份：</label>
                        <select id="trend-end-month" class="form-control">
                            <option value="">請選擇...</option>
                        </select>
                    </div>
                </div>
                <div class="text-center mt-2">
                    <button id="apply-time-range" class="btn btn-primary btn-sm">
                        <i class="fas fa-chart-line"></i> 套用範圍
                    </button>
                </div>
            </div>

            <div class="chart-container">
                <canvas id="trend" width="600" height="400" role="img" aria-label="關鍵詞出現次數趨勢圖表"></canvas>
            </div>

            <!-- 圖表控制按鈕 -->
            <div class="text-center mt-3">
                <button id="reset-chart-zoom" class="btn btn-sm btn-outline-secondary" title="重置圖表縮放">
                    <i class="fas fa-search-minus"></i> 重置縮放
                </button>
            </div>

            <div class="text-muted text-center mt-3">
                <small id="trend-chart-description">
                    <i class="fas fa-info-circle" aria-hidden="true"></i>
                    <span id="trend-description-text">此圖表顯示選定月份中出現頻率最高的關鍵詞</span>
                </small>
            </div>
        </section>

        <!-- 每月預期市場趨勢分佈圖表容器 -->
        <section id="expectedTrendContainer" class="animate__animated animate__fadeIn data-dependent-section" role="region" aria-labelledby="expected-trend-title" style="display: none;">
            <h2 id="expected-trend-title"><i class="fas fa-chart-pie" aria-hidden="true"></i> 每月預期市場趨勢分佈</h2>
            <div class="chart-container">
                <canvas id="expectedTrendChart" width="600" height="400" role="img" aria-label="每月預期市場趨勢分佈圖表"></canvas>
            </div>
            <div class="text-center mt-3">
                <button id="toggleChartType" class="btn btn-primary" aria-label="切換圖表類型">
                    <i class="fas fa-exchange-alt me-1" aria-hidden="true"></i> 切換到折線圖
                </button>
            </div>
            <div class="text-muted text-center mt-3">
                <small><i class="fas fa-info-circle" aria-hidden="true"></i> 此圖表顯示每月新聞中預期市場趨勢的分佈情況</small>
            </div>
        </section>

        <!-- 關鍵詞文字雲視覺化容器 -->
        <section id="keywordCloudContainer" class="animate__animated animate__fadeIn data-dependent-section" role="region" aria-labelledby="keyword-cloud-title" style="display: none;">
            <h2 id="keyword-cloud-title"><i class="fas fa-cloud" aria-hidden="true"></i> 關鍵詞文字雲視覺化</h2>
            <div class="cloud-controls text-center mb-3">
                <label for="cloud-size-slider" class="form-label">顯示關鍵詞數量：<span id="cloud-size-value">50</span></label>
                <input type="range" id="cloud-size-slider" class="form-range cloud-slider" min="20" max="100" step="10" value="50" aria-label="選擇顯示的關鍵詞數量">
            </div>
            <div class="wordcloud-container">
                <canvas id="keywordCloudCanvas" width="800" height="500" role="img" aria-label="關鍵詞文字雲視覺化圖表"></canvas>
            </div>
            <div class="text-muted text-center mt-3">
                <small><i class="fas fa-info-circle" aria-hidden="true"></i> 此文字雲顯示所有文章中出現頻率最高的關鍵詞，字體大小代表出現次數</small>
            </div>
        </section>

        <div class="section-divider data-dependent-section" style="display: none;"></div>

        <button id="toggle-news-button" class="btn btn-info mb-4 animate__animated animate__fadeIn animate__delay-3s data-dependent-section" aria-expanded="false" aria-controls="news-content" aria-label="顯示或隱藏新聞內容" style="display: none;">
            <i class="fas fa-newspaper" aria-hidden="true"></i> 顯示/隱藏新聞內容
        </button>

        <div id="news-content" class="collapse">
            <main id="main-content" role="main">
                <!-- 新聞列表標題與檢視模式切換 -->
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 id="articles-heading" class="mb-0"><i class="fas fa-list-alt" aria-hidden="true"></i> 新聞列表</h2>
                    <!-- 檢視模式切換按鈕 -->
                    <div class="btn-group" role="group" aria-label="檢視模式切換">
                        <button id="view-mode-card" class="btn btn-sm btn-outline-primary active" title="卡片檢視" aria-label="切換為卡片檢視">
                            <i class="fas fa-th-large"></i> 卡片
                        </button>
                        <button id="view-mode-list" class="btn btn-sm btn-outline-primary" title="列表檢視" aria-label="切換為列表檢視">
                            <i class="fas fa-list"></i> 列表
                        </button>
                    </div>
                </div>
                <div id="articles" class="row" role="feed" aria-labelledby="articles-heading" aria-busy="false"></div>

                <nav aria-label="頁面跳轉" id="pagination-options" class="mb-4 mt-4">
                    <div class="form-row align-items-end">
                        <div class="col-md-3">
                            <label for="jump-page"><i class="fas fa-file-alt" aria-hidden="true"></i> 跳轉至頁碼：</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="jump-page-icon"><i class="fas fa-hashtag" aria-hidden="true"></i></span>
                                </div>
                                <input type="number" id="jump-page" class="form-control" placeholder="輸入頁碼" min="1" aria-label="輸入要跳轉的頁碼" aria-describedby="jump-page-icon">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <button id="jump-button" class="btn btn-secondary btn-block" aria-label="跳轉到指定頁碼">
                                <i class="fas fa-arrow-right" aria-hidden="true"></i> 跳轉
                            </button>
                        </div>
                    </div>
                </nav>

                <nav class="pagination" id="pagination" aria-label="文章分頁導航"></nav>
            </main>
        </div>

        <footer role="contentinfo" class="mt-5 mb-3 text-center text-muted">
            <p><small>© 2025 房市新聞摘要與趨勢分析 | 資料僅供參考，不構成投資建議</small></p>
        </footer>
    </div>

    <!-- 引入外部資源 -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/wordcloud@1.2.2/src/wordcloud2.min.js"></script>
    
    <!-- 引入模組化的 JavaScript 檔案 -->
    <script src="js/modules/Constants.js"></script>
    <script src="js/modules/Validator.js"></script>
    <script src="js/modules/SecurityUtils.js"></script>
    <script src="js/modules/ErrorHandler.js"></script>
    <script src="js/modules/Utilities.js"></script>
    <script src="js/modules/CacheManager.js"></script>
    <script src="js/modules/StateManager.js"></script>
    <script src="js/modules/AccessibilityManager.js"></script>
    <script src="js/modules/ExportManager.js"></script>
    <script src="js/modules/UIComponents.js"></script>
    <script src="js/modules/ChartManager.js"></script>
    <script src="js/modules/EventHandlers.js"></script>
    <script src="js/App.js"></script>
    
    <!-- 保留現有數據和上傳功能 -->
    <script src="data.js"></script>
    <script src="csv-uploader.js"></script>
    
    <!-- 引入 Bootstrap 所需的 JavaScript 和 Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
